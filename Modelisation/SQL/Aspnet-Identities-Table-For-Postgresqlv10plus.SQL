--
-- PostgreSQL database dump
--

-- Dumped from database version 14.6
-- Dumped by pg_dump version 14.4

-- Started on 2023-02-16 10:16:22

ROLLBACK;
BEGIN;

SET SESSION AUTHORIZATION 'abyster';

SET SEARCH_PATH TO budget, public;

--
-- TOC entry 217 (class 1259 OID 16438)
-- Name: AspNetRoleClaims; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetRoleClaims" (
    "Id" integer NOT NULL,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text
);


--
-- TOC entry 216 (class 1259 OID 16437)
-- Name: AspNetRoleClaims_Id_seq; Type: SEQUENCE; Schema: public; Owner: abyster
--

ALTER TABLE "AspNetRoleClaims" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME "AspNetRoleClaims_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 211 (class 1259 OID 16402)
-- Name: AspNetRoles; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text
);


--
-- TOC entry 219 (class 1259 OID 16451)
-- Name: AspNetUserClaims; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetUserClaims" (
    "Id" integer NOT NULL,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text
);


--
-- TOC entry 218 (class 1259 OID 16450)
-- Name: AspNetUserClaims_Id_seq; Type: SEQUENCE; Schema: public; Owner: abyster
--

ALTER TABLE "AspNetUserClaims" ALTER COLUMN "Id" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME "AspNetUserClaims_Id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 16463)
-- Name: AspNetUserLogins; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" character varying(128) NOT NULL,
    "ProviderKey" character varying(128) NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL
);


--
-- TOC entry 221 (class 1259 OID 16475)
-- Name: AspNetUserRoles; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL
);


--
-- TOC entry 222 (class 1259 OID 16492)
-- Name: AspNetUserTokens; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" character varying(128) NOT NULL,
    "Name" character varying(128) NOT NULL,
    "Value" text
);


--
-- TOC entry 212 (class 1259 OID 16409)
-- Name: AspNetUsers; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL
);


--
-- TOC entry 213 (class 1259 OID 16416)
-- Name: DeviceCodes; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "DeviceCodes" (
    "UserCode" character varying(200) NOT NULL,
    "DeviceCode" character varying(200) NOT NULL,
    "SubjectId" character varying(200),
    "SessionId" character varying(100),
    "ClientId" character varying(200) NOT NULL,
    "Description" character varying(200),
    "CreationTime" timestamp with time zone NOT NULL,
    "Expiration" timestamp with time zone NOT NULL,
    "Data" character varying(50000) NOT NULL
);


--
-- TOC entry 214 (class 1259 OID 16423)
-- Name: Keys; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "Keys" (
    "Id" text NOT NULL,
    "Version" integer NOT NULL,
    "Created" timestamp with time zone NOT NULL,
    "Use" text,
    "Algorithm" character varying(100) NOT NULL,
    "IsX509Certificate" boolean NOT NULL,
    "DataProtected" boolean NOT NULL,
    "Data" text NOT NULL
);


--
-- TOC entry 215 (class 1259 OID 16430)
-- Name: PersistedGrants; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "PersistedGrants" (
    "Key" character varying(200) NOT NULL,
    "Type" character varying(50) NOT NULL,
    "SubjectId" character varying(200),
    "SessionId" character varying(100),
    "ClientId" character varying(200) NOT NULL,
    "Description" character varying(200),
    "CreationTime" timestamp with time zone NOT NULL,
    "Expiration" timestamp with time zone,
    "ConsumedTime" timestamp with time zone,
    "Data" character varying(50000) NOT NULL
);


--
-- TOC entry 210 (class 1259 OID 16397)
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: abyster
--

CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);

--
-- TOC entry 3441 (class 0 OID 0)
-- Dependencies: 216
-- Name: AspNetRoleClaims_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: abyster
--

SELECT pg_catalog.setval('"AspNetRoleClaims_Id_seq"', 1, false);


--
-- TOC entry 3442 (class 0 OID 0)
-- Dependencies: 218
-- Name: AspNetUserClaims_Id_seq; Type: SEQUENCE SET; Schema: public; Owner: abyster
--

SELECT pg_catalog.setval('"AspNetUserClaims_Id_seq"', 1, false);


--
-- TOC entry 3265 (class 2606 OID 16444)
-- Name: AspNetRoleClaims PK_AspNetRoleClaims; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetRoleClaims"
    ADD CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id");


--
-- TOC entry 3244 (class 2606 OID 16408)
-- Name: AspNetRoles PK_AspNetRoles; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetRoles"
    ADD CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id");


--
-- TOC entry 3268 (class 2606 OID 16457)
-- Name: AspNetUserClaims PK_AspNetUserClaims; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserClaims"
    ADD CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id");


--
-- TOC entry 3271 (class 2606 OID 16469)
-- Name: AspNetUserLogins PK_AspNetUserLogins; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserLogins"
    ADD CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey");


--
-- TOC entry 3274 (class 2606 OID 16481)
-- Name: AspNetUserRoles PK_AspNetUserRoles; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserRoles"
    ADD CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId");


--
-- TOC entry 3276 (class 2606 OID 16498)
-- Name: AspNetUserTokens PK_AspNetUserTokens; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserTokens"
    ADD CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name");


--
-- TOC entry 3248 (class 2606 OID 16415)
-- Name: AspNetUsers PK_AspNetUsers; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUsers"
    ADD CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id");


--
-- TOC entry 3253 (class 2606 OID 16422)
-- Name: DeviceCodes PK_DeviceCodes; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "DeviceCodes"
    ADD CONSTRAINT "PK_DeviceCodes" PRIMARY KEY ("UserCode");


--
-- TOC entry 3256 (class 2606 OID 16429)
-- Name: Keys PK_Keys; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "Keys"
    ADD CONSTRAINT "PK_Keys" PRIMARY KEY ("Id");


--
-- TOC entry 3262 (class 2606 OID 16436)
-- Name: PersistedGrants PK_PersistedGrants; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "PersistedGrants"
    ADD CONSTRAINT "PK_PersistedGrants" PRIMARY KEY ("Key");


--
-- TOC entry 3242 (class 2606 OID 16401)
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- TOC entry 3246 (class 1259 OID 16509)
-- Name: EmailIndex; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "EmailIndex" ON "AspNetUsers" USING btree ("NormalizedEmail");


--
-- TOC entry 3263 (class 1259 OID 16504)
-- Name: IX_AspNetRoleClaims_RoleId; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" USING btree ("RoleId");


--
-- TOC entry 3266 (class 1259 OID 16506)
-- Name: IX_AspNetUserClaims_UserId; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" USING btree ("UserId");


--
-- TOC entry 3269 (class 1259 OID 16507)
-- Name: IX_AspNetUserLogins_UserId; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" USING btree ("UserId");


--
-- TOC entry 3272 (class 1259 OID 16508)
-- Name: IX_AspNetUserRoles_RoleId; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" USING btree ("RoleId");


--
-- TOC entry 3250 (class 1259 OID 16511)
-- Name: IX_DeviceCodes_DeviceCode; Type: INDEX; Schema: public; Owner: abyster
--

CREATE UNIQUE INDEX "IX_DeviceCodes_DeviceCode" ON "DeviceCodes" USING btree ("DeviceCode");


--
-- TOC entry 3251 (class 1259 OID 16512)
-- Name: IX_DeviceCodes_Expiration; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_DeviceCodes_Expiration" ON "DeviceCodes" USING btree ("Expiration");


--
-- TOC entry 3254 (class 1259 OID 16513)
-- Name: IX_Keys_Use; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_Keys_Use" ON "Keys" USING btree ("Use");


--
-- TOC entry 3257 (class 1259 OID 16514)
-- Name: IX_PersistedGrants_ConsumedTime; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_PersistedGrants_ConsumedTime" ON "PersistedGrants" USING btree ("ConsumedTime");


--
-- TOC entry 3258 (class 1259 OID 16515)
-- Name: IX_PersistedGrants_Expiration; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_PersistedGrants_Expiration" ON "PersistedGrants" USING btree ("Expiration");


--
-- TOC entry 3259 (class 1259 OID 16516)
-- Name: IX_PersistedGrants_SubjectId_ClientId_Type; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_PersistedGrants_SubjectId_ClientId_Type" ON "PersistedGrants" USING btree ("SubjectId", "ClientId", "Type");


--
-- TOC entry 3260 (class 1259 OID 16517)
-- Name: IX_PersistedGrants_SubjectId_SessionId_Type; Type: INDEX; Schema: public; Owner: abyster
--

CREATE INDEX "IX_PersistedGrants_SubjectId_SessionId_Type" ON "PersistedGrants" USING btree ("SubjectId", "SessionId", "Type");


--
-- TOC entry 3245 (class 1259 OID 16505)
-- Name: RoleNameIndex; Type: INDEX; Schema: public; Owner: abyster
--

CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" USING btree ("NormalizedName");


--
-- TOC entry 3249 (class 1259 OID 16510)
-- Name: UserNameIndex; Type: INDEX; Schema: public; Owner: abyster
--

CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" USING btree ("NormalizedUserName");


--
-- TOC entry 3277 (class 2606 OID 16445)
-- Name: AspNetRoleClaims FK_AspNetRoleClaims_AspNetRoles_RoleId; Type: FK CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetRoleClaims"
    ADD CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles"("Id") ON DELETE CASCADE;


--
-- TOC entry 3278 (class 2606 OID 16458)
-- Name: AspNetUserClaims FK_AspNetUserClaims_AspNetUsers_UserId; Type: FK CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserClaims"
    ADD CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers"("Id") ON DELETE CASCADE;


--
-- TOC entry 3279 (class 2606 OID 16470)
-- Name: AspNetUserLogins FK_AspNetUserLogins_AspNetUsers_UserId; Type: FK CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserLogins"
    ADD CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers"("Id") ON DELETE CASCADE;


--
-- TOC entry 3280 (class 2606 OID 16482)
-- Name: AspNetUserRoles FK_AspNetUserRoles_AspNetRoles_RoleId; Type: FK CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserRoles"
    ADD CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles"("Id") ON DELETE CASCADE;


--
-- TOC entry 3281 (class 2606 OID 16487)
-- Name: AspNetUserRoles FK_AspNetUserRoles_AspNetUsers_UserId; Type: FK CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserRoles"
    ADD CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers"("Id") ON DELETE CASCADE;


--
-- TOC entry 3282 (class 2606 OID 16499)
-- Name: AspNetUserTokens FK_AspNetUserTokens_AspNetUsers_UserId; Type: FK CONSTRAINT; Schema: public; Owner: abyster
--

ALTER TABLE ONLY "AspNetUserTokens"
    ADD CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers"("Id") ON DELETE CASCADE;

COMMIT;

-- Completed on 2023-02-16 10:16:22

--
-- PostgreSQL database dump complete
--

